name: "Comparative Toxicogenomics Database (CTD) Reference Ingest Guide"

source_info:
  infores_id: "infores:ctd"
  description: "CTD is a robust, publicly available database that aims to advance understanding about how environmental exposures affect human health. It provides knowledge, manually curated from the literature, about chemicals and their relationship to other biological entities: chemical to gene/protein interactions plus chemical to disease and gene to disease relationships. These data are integrated with functional and pathway data to aid in the development of hypotheses about the mechanisms underlying environmentally influenced diseases. It also generates novel inferences by further analyzing the knowledge they curate/create - based on statistically significant connections with intermediate concept (e.g. Chemical X associated with Disease Y based on shared associations with a common set of genes)."
  citations:
    - "Davis AP, Wiegers TC, Johnson RJ, Sciaky D, Wiegers J, Mattingly CJ Comparative Toxicogenomics Database (CTD): update 2023. Nucleic Acids Res. 2022 Sep 28."
  terms_of_use: "No formal license. Bespoke 'terms of use' are described here: https://ctdbase.org/about/legal.jsp"
  data_access_locations:
    - "CTD Bulk Downloads: http://ctdbase.org/downloads/"
    - "CTD Catalog: https://ctdbase.org/reports/"
  data_provision_mechanisms:
    - file_download
  data_formats:
    - tsv
    - csv
    - xml
    - obo
  data_versioning_and_releases: "No consistent cadence for releases, but on average there are 1-2 releases each month. Versioning is based on the month and year of the release. Releases page: https://ctdbase.org/about/changes/"
  additional_notes: "Latest status page: https://ctdbase.org/about/dataStatus.go"

ingest_info:
  ingest_categories:
    - primary_knowledge_provider
  utility: "CTD is a rich source of manually curated chemical associations to other biological entities which are an important type of edge for Translator query and reasoning use cases, including treatment predictions, chemical-gene regulation predictions, and pathfinder queries. It is one of the few sources that focus on non-drug chemicals, e.g. environmental stressors, and how these are related to diseases, biological processes, and genes."
  scope: "This initial ingest of CTD covers curated Chemical to Disease associations that report therapeutic and marker/mechanism relationships, or statistical associations generated by CTD. Additional types of Chemical associations will be added later."
  
  relevant_files:
    - file_name: "CTD_chemicals_diseases.tsv.gz"
      location: "http://ctdbase.org/downloads/"
      description: "Manually curated and computationally inferred associations between chemicals and diseases"
    - file_name: "CTD_exposure_events.tsv.gz"
      location: "http://ctdbase.org/downloads/"
      description: "Descriptions of statistical studies of how exposure to chemicals affects a particular population, with some records providing outcomes"
  
  included_content:
    - file_name: "CTD_chemicals_diseases.tsv.gz"
      included_records: "Curated therapeutic and marker/mechanism associations (rows where a DirectEvidence value is populated with type T or M), as well as inferred associations (rows lacking a value in the DirectEvidence column)"
      fields_used: "ChemicalName, ChemicalID, CasRN, DiseaseName, DiseaseID, DirectEvidence, InferenceGeneSymbol, InferenceScore, OmimIDs, PubMedIDs"
  
  filtered_content:
    - file_name: "CTD_chemicals_diseases.tsv.gz"
      filtered_records: "None"
      rationale: "Currently taking all records with no publication count or inference score cutoffs - but these may be added in future iterations"
  
  future_considerations:
    - category: edge_content
      consideration: "While the current ingest includes only Chemical-Disease Associations, future iterations will include additional types of associations between Chemicals and GO Terms, Molecular Phenotypes, Genes, etc."
      relevant_files: "Multiple CTD files"
    - category: edge_content
      consideration: "Consider ingesting additional chemical-disease edges reporting statistical correlations from environmental exposure studies from CTD_exposure_events.tsv.gz"
      relevant_files: "CTD_exposure_events.tsv.gz"
    - category: edge_content
      consideration: "Consider adding publication count or inference score cutoffs to filter lower quality / confidence records"
      relevant_files: "CTD_chemicals_diseases.tsv.gz"

target_info:
  infores_id: "infores:translator-ctd-kgx"
  
  edge_type_info:
    - subject_categories:
        - "biolink:ChemicalEntity"
      predicate: "biolink:treats_or_applied_or_studied_to_treat"
      object_categories:
        - "biolink:DiseaseOrPhenotypicFeature"
      knowledge_level:
        - knowledge_assertion
      agent_type:
        - manual_agent
      ui_explanation: "CTD Chemical-Disease records with a T (therapeutic) DirectEvidence code indicate the chemical to be a potential treatment in virtue of its clinical use or study - which maps best to the Biolink predicate treats_or_applied_or_studied_to_treat."
    - subject_categories:
        - "biolink:ChemicalEntity"
      predicate: "biolink:correlates_with_or_contributes_to"
      object_categories:
        - "biolink:DiseaseOrPhenotypicFeature"
      knowledge_level:
        - knowledge_assertion
      agent_type:
        - manual_agent
      ui_explanation: "CTD Chemical-Disease records with an M (marker/mechanism) DirectEvidence code indicate the chemical to correlate with or play an etiological role in a condition - which maps best to the Biolink predicate correlates_with_or_contributes_to."
    - subject_categories:
        - "biolink:ChemicalEntity"
      predicate: "biolink:associated_with"
      object_categories:
        - "biolink:DiseaseOrPhenotypicFeature"
      knowledge_level:
        - statistical_association
      agent_type:
        - data_analysis_pipeline
      edge_properties:
        - "biolink:has_confidence_score"
      ui_explanation: "CTD Chemical-Disease records with an inference score indicate a statistically significant number of shared gene associations that suggest a biological relationship may exist. The statistical basis of this relationship maps to the Biolink associated_with predicate."
      additional_notes: "For source records that include an inference score but no T or M flag one edge will be created (associated_with). For source records that include either a T or an M flag and no inference score, one edge will be created (treats_or_studied_or_applied_to_treat or correlates_with_or_contributes_to). For source records that include an inference score and either a T or an M flag, two edges will be created. For source records that include an inference score and both T and M flags, three edges will be created."
  
  node_type_info:
    - node_category: "biolink:ChemicalEntity"
      source_identifier_types: "MeSH"
      additional_notes: "Majority are Biolink SmallMolecules. The chemical ID row is expected to need a MESH: prefix added."
    - node_category: "biolink:DiseaseOrPhenotypicFeature"
      source_identifier_types: "MeSH"
      additional_notes: "Disease identifier used as-is."
  
  future_considerations:
    - consideration: "Revisit use of has_confidence_score edge property if/when we refactor this part of the Biolink Model"
      category: edge_properties
    - consideration: "Revisit correlates_with_or_contributes_to and treats_or_studied_or_applied_to_treat predicates if/when we refactor modeling or conventions here"
      category: predicates

provenance_info:
  contributions:
    - "Kevin Schaper - code author"
    - "Evan Morris - code support"
    - "Sierra Moxon - code support"
    - "Vlado Dancik - code support, domain expertise"
    - "Matthew Brush - data modeling, domain expertise"
  artifacts:
    - "Ingest Survey: https://docs.google.com/spreadsheets/d/1R9z-vywupNrD_3ywuOt_sntcTrNlGmhiUWDXUdkPVpM/edit?gid=0#gid=0"